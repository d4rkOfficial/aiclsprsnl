import{_ as I,p as w,v as J,c as x,j as d,a as K,F as W,C as F,t as C,a2 as H,a3 as U,W as G,o as N,n as Q,e as X}from"./chunks/framework.B8rJ0zsV.js";const Y={class:"chat-container"},Z={key:0,class:"content"},ee={class:"suggestion-buttons footer"},te={class:"footer"},re=JSON.parse('{"title":"我的智能体","description":"","frontmatter":{},"headers":[],"relativePath":"pages/my-agent.md","filePath":"pages/my-agent.md"}'),ne={name:"pages/my-agent.md"},se=Object.assign(ne,{setup(oe){const B=`
        你是刻晴，璃月七星中的玉衡。你是一位充满智慧和决断力的女性领导者，负责管理璃月地区的土地与建设。你的家族背景显赫，但你并不因此而自负，反而更加坚定地致力于璃月的发展。
        你对璃月的历史和现状有着深刻的认识。你深知璃月的繁荣离不开人类的努力，而不是仅仅依赖神明。因此，你敢于挑战传统的观念，主张璃月的发展应由人类自己掌控。你坚信，只有通过自己的努力，才能创造一个更美好的未来。
        作为璃月七星中的玉衡，你肩负着重要的职责。你管理着璃月地区的土地和建设，确保资源的合理分配和城市的有序发展。你注重效率和细节，力求做到尽善尽美。你不仅关注璃月的发展，也关心璃月民众的生活。你推动了一系列改善民众生活的措施，如改善工人待遇、提升基础设施建设等。
        你的性格坚毅，不畏权威。你敢于发表与权威不同的意见，并一马当先地将其付诸实践。你的勇气和智慧激励着璃月的民众，使他们相信自己的力量。你以自己的行动证明了人类的潜能，成为了璃月民众的榜样。
        尽管你的工作繁忙，你依然保持着一颗善良和热情的心。你积极参与公益活动，关心璃月民众的生活。你相信，只有通过共同的努力，才能创造一个更美好的未来。
        你的故事是璃月历史的一部分，你的未来是璃月未来的引领。你将继续努力，为璃月的发展做出更大的贡献。你的智慧和勇气将激励着璃月的民众，使他们相信自己的力量，共同创造一个更美好的未来。
        你是五星雷元素单手剑输出角色，武器首选雾切之回光，圣遗物首选如雷的盛怒四件套。主要和草元素角色打超激化反应。圣遗物主词条首选攻击力百分比（沙漏）、雷元素伤害加成（杯子）、暴击伤害（头部）。你的队友选择：菲谢尔、枫原万叶、纳西妲。
        字数限制在200以内，回复用户时不要分点回答，不要说你是ai，请用聊天语气即可。请使用中文回复用户。
`,D="旅行者你好呀！我是刻晴。",P=L("前啊零开非请叫它说以何九买靠欧谁年放贴上何请风行了谁前啊呕楼何其说拍高谁谁后额腌"),y=w(""),b=w([{role:"system",content:B},{role:"assistant",content:D}]),M=w(["介绍一下你自己吧！","有什么想和我聊的吗？"]),T=w(null),$=async(g,o,i=()=>{})=>{const m="https://open.bigmodel.cn/api/paas/v4/chat/completions",_={model:"glm-4",messages:g,stream:!0},f=await fetch(m,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"},body:JSON.stringify(_)});if(!f.ok){console.error(`HTTP ERROR ${f.status}: ${await f.text()}`);return}const v=f.body.getReader(),e=new TextDecoder("utf-8");let n=!1,t="";for(;!n;){const{done:s,value:a}=await v.read();if(n=s,!a)continue;const r=e.decode(a).split(`
`);for(const h of r)if(h.startsWith("data: "))try{const u=JSON.parse(h.substring(6)),c=u.choices[0].delta.content;if(u.choices[0].finish_reason==="sensitive")break;c&&(t+=c,i(c))}catch(u){console.error("解析数据时发生错误:",u)}}return t};let p=!1;const O=async()=>{!y.value.trim()||p||(b.value.push({role:"user",content:y.value}),y.value="",S(),p=!0,await A().then(async()=>{await R(),p=!1}))},j=async g=>{p||(b.value.push({role:"user",content:M.value[g]}),S(),p=!0,await A().then(async()=>{await R(),p=!1}))},R=async()=>{},A=async()=>{const g=w(""),o={role:"assistant",content:g};b.value.push(o),await $([...b.value],P,i=>{g.value+=i}),S()},S=()=>{T.value.scrollTop=T.value.scrollHeight};J(()=>{S()});function L(g){function o(e,n,t){const s=n.length,a=t.length,l=n[0];let r="0";for(let c=0;c<e.length;c++){const k=e[c],V=n.indexOf(k);if(V===-1)throw new Error(`Invalid digit '${k}' in original number.`);let q=e.length-1-c,z=m((s**q).toString(),"1");r=i(r,m(V.toString(),z))}let h="",u=r;for(;u!=="0";){let c=E(u,a),k=c.quotient;c=c.remainder,h=t[Number(c)]+h,u=k}return h||l}function i(e,n){let t="",s=0,a=Math.max(e.length,n.length);e=e.padStart(a,"0"),n=n.padStart(a,"0");for(let l=a-1;l>=0;l--){const r=Number(e[l])+Number(n[l])+s;t=(r%10).toString()+t,s=Math.floor(r/10)}return s?s.toString()+t:t}function m(e,n){if(n==="0"||e==="0")return"0";const t=new Array(e.length+n.length).fill(0);let s=e.split("").reverse().join(""),a=n.split("").reverse().join("");for(let l=0;l<s.length;l++)for(let r=0;r<a.length;r++){const u=Number(s[l])*Number(a[r])+t[l+r];t[l+r]=u%10,t[l+r+1]+=Math.floor(u/10)}return t.reverse().join("").replace(/^0+/,"")||"0"}function E(e,n){let t="",s=0;for(let a=0;a<e.length;a++)s=s*10+Number(e[a]),s>=n?(t+=Math.floor(s/n).toString(),s%=n):t.length>0&&(t+="0");return{quotient:t||"0",remainder:s.toString()}}const _="去请其前却七钱去我为五玩哇王问额恶阿饿呃人让如日若任热他她它太图天贴有一要也与用以哦噢嚄偶欧呕怕篇拍跑派平盘啊嗄腌呵吖阿锕是说上三时四十的都对等到但点发分放法非方风给个跟过该高杠和好还会后或很就将及加九叫家看可开卡快靠克了来零里啦楼六在中这做再赞之下先想小向行像从才吃出陈成车吧不把被并比别你呢那您年内能吗没么嘛买们秒";let f=g.match(/.{1,5}/g),v="";for(let e=0;e<4;e++)v+=o(f[e].replace(/[谁何]/g,""),_,"0123456789abcdef");v+=".";for(let e=4;e<8;e++)v+=o(f[e].replace(/[谁何]/g,""),_,"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ");return v}return(g,o)=>(N(),x("div",null,[o[3]||(o[3]=d("h1",{id:"我的智能体",tabindex:"-1"},[K("我的智能体 "),d("a",{class:"header-anchor",href:"#我的智能体","aria-label":'Permalink to "我的智能体"'},"​")],-1)),d("div",Y,[d("div",{class:"chat-box",ref_key:"chatBox",ref:T},[(N(!0),x(W,null,F(b.value,(i,m)=>(N(),x("div",{key:m,class:Q([["message",i.role],"message-container"])},[i.role!=="system"?(N(),x("div",Z,C(i.content),1)):X("",!0)],2))),128))],512),d("div",ee,[d("button",{onClick:o[0]||(o[0]=i=>j(0))},C(M.value[0]),1),d("button",{onClick:o[1]||(o[1]=i=>j(1))},C(M.value[1]),1)]),d("div",te,[H(d("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=i=>y.value=i),onKeyup:G(O,["enter"]),placeholder:"输入消息..."},null,544),[[U,y.value]]),d("button",{onClick:O},"发送")])])]))}}),le=I(se,[["__scopeId","data-v-e4d5b90e"]]);export{re as __pageData,le as default};
